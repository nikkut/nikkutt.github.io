1 Задание
Тест-кейсы:
1) Проверка внешнего вида  
-Перейти по ссылке https://tarifer.ru/calculator. Убедиться, что внешний вид страницы "Калькулятор тарифов" соответствует макету (условный макет из документации)
Внешний вид соответствует макету
-Проверить отображение и расположение кнопок и полей ввода
Кнопки и поля отображаются и расположены корректно

2) Негатив. Не заполнено ни одно поле 
-Не заполняя поля нажать "Подобрать тариф"  
Произошел переход на станицу "Результат подбора тарифа". Тариф не подобран, есть сообщение об ошибке (сравнить с текстом или макетом из документации)

3) Негатив. Поля заполнены частично (описание обязательных для заполнения полей должно быть в документации)
-Заполнить поле Регион и поле Оператор, нажать "Подобрать тариф"  
Произошел переход на станицу "Результат подбора тарифа". Тариф не подобран, есть сообщение об ошибке
-Заполнить поле Оператор и ввести число в любое поле, нажать "Подобрать тариф"  
Произошел переход на станицу "Результат подбора тарифа". Тариф не подобран, есть всплывающее сообщение над незаполненым полем 
"Выберите один из пунктов списка" (сравнить с макетом или текстом из документации)
-Заполнить только число, нажать "Подобрать тариф"  
Произошел переход на станицу "Результат подбора тарифа". Тариф не подобран, есть всплывающее сообщение над незаполненым полем

4) Поле Регион
-Нажать на поле Регион, сранить данные в выпадающем списке (их количество и наименование) с данными в БД (описание поля БД должно быть в документации)
Данные корректны, соответствуют БД
-Убедиться, что список регионов отсортирован по алфавиту в возрастающем порядке, кроме Москвы и Санкт-Петербурга, они в самом вверху 
(опять же при условии что сортировка и 2 исключения описаны в документации)
Сортировка корректная
- Убедиться, что можно выбрать все значения из выпадающего списка
Можно выбрать все значения

5) Поле Оператор
-Нажать на поле Оператор, сранить данные в выпадающем списке (их количество и наименование) с данными в БД (описание поля БД должно быть в документации)
Данные корректны, соответствуют БД
-Убедиться, что список операторов постоянный для всех регионов (должно быть описано в документации)
Список постоянный
- Убедиться, что можно выбрать все значения из выпадающего списка
Можно выбрать все значения

6) Связь с абонентами своего оператора
-Выбрать значения в полях Регион и Оператор
Поля заполнены
-Ввести в поле Количество у звонков в своем регионе некорректное значение: отрицательное число, символы, буквы. Нажать "Подобрать тариф"
У этого поля появилось всплывающее окно "Введите данные в указанном формате" (сравнить с текстом или макетом из документации)
-Проверить на ввод некорректных данных все остальные поля: Средняя длительность звонков в своем регионе, Количество междугородних звонков, 
 Средняя длительность междугородних звонков, Количество смс в день.
Во всех случаях появлятется всплывающее предупреждение у поля с данными
-Ввести в поле Количество корректные данные (целое положительное число), нажать "Подобрать тариф"
Произошел переход на станицу "Результат подбора тарифа". Тариф подобран в зависимости от введенных данных
- Вернуться назад в браузере
Открыта страница "Калькулятор тарифов", ранее введенные данные не сбрасываются а отображаются.
-Ввести в поля Количество и Длительность корректные данные, нажать "Подобрать тариф"
Произошел переход на станицу "Результат подбора тарифа". Тариф подобран в зависимости от введенных данных
- Вернуться назад в браузере
Открыта страница "Калькулятор тарифов", ранее введенные данные не сбрасываются а отображаются.
- Ввести во все поля раздела "Связь с абонентами своего оператора" корректные данные, нажать "Подобрать тариф"
Произошел переход на станицу "Результат подбора тарифа". Тариф подобран в зависимости от введенных данных.
- Убедиться, что при вводе маленьких чисел выводятся дешевые тарифы, а при вводе больших - самые дорогие
Данные корректны

7) Связь с абонентами других операторов
-Выбрать значения в полях Регион и Оператор
Поля заполнены
-Ввести в поле Количество у звонков в своем регионе некорректное значение: отрицательное число, символы, буквы. Нажать "Подобрать тариф"
У этого поля появилось всплывающее окно "Введите данные в указанном формате" (сравнить с текстом или макетом из документации)
-Проверить на ввод некорректных данных все остальные поля: Средняя длительность звонков в своем регионе, Количество междугородних звонков, 
 Средняя длительность междугородних звонков, Количество смс в день.
Во всех случаях появлятется всплывающее предупреждение у поля с данными
-Ввести в поле Количество корректные данные (целое положительное число), нажать "Подобрать тариф"
Произошел переход на станицу "Результат подбора тарифа". Тариф подобран в зависимости от введенных данных
- Вернуться назад в браузере
Открыта страница "Калькулятор тарифов", ранее введенные данные не сбрасываются а отображаются.
-Ввести в поля Количество и Длительность корректные данные, нажать "Подобрать тариф"
Произошел переход на станицу "Результат подбора тарифа". Тариф подобран в зависимости от введенных данных
- Вернуться назад в браузере
Открыта страница "Калькулятор тарифов", ранее введенные данные не сбрасываются а отображаются.
- Ввести во все поля раздела "Связь с абонентами других операторов" корректные данные, нажать "Подобрать тариф"
Произошел переход на станицу "Результат подбора тарифа". Тариф подобран в зависимости от введенных данных
- Убедиться, что при вводе маленьких чисел выводятся дешевые тарифы, а при вводе больших - самые дорогие
Данные корректны

8) Интернет
-Выбрать значения в полях Регион и Оператор
Поля заполнены
-Ввести в поле "GPRS (МБ в день)" некорректное значение: отрицательное число, символы, буквы. Нажать "Подобрать тариф"
У этого поля появилось всплывающее окно "Введите данные в указанном формате" 
-Ввести в поле "GPRS (МБ в день)" коррекное значение (целое положительное), нажать "Подобрать тариф"
Произошел переход на станицу "Результат подбора тарифа". Тариф подобран в зависимости от введенных данных
-Ввести в поля Количество, Длительность  раздела "Связь с абонентами своего оператора" корректные данные, в поле "GPRS (МБ в день)" ввести небольшое число, 
 нажать "Подобрать тариф"
Произошел переход на станицу "Результат подбора тарифа". Тариф подобран в зависимости от введенных данных
- Ввести во все поля раздела "Связь с абонентами других операторов" корректные данные, в поле "GPRS (МБ в день)" ввести большое число, нажать "Подобрать тариф"
Произошел переход на станицу "Результат подбора тарифа". Тариф подобран в зависимости от введенных данных
- Убедиться, что при вводе маленьких чисел выводятся дешевые тарифы, а при вводе больших - самые дорогие
Данные корректны

9) Позитив (В документации должно быть описание формирования данных в БД в зависимости от введенных в интерфейсе)
-Убедиться, что в зависимости от указанного региона, оператора, и введенных чисел, результат подбора тарифа будет оптимальным и корректным, 
 сравнить с БД данные по выводимым тарифам - Название тарифа, его Стоимость.
Результаты выводятся корректные, БД соответствуют
-Убедиться, что на странице "Результат подбора тарифа" всегда отображается корректное название выбранного ранее региона (проверить на нескольких основных регионах)
Название региона всегда корректное
-Убедиться, что на странице "Результат подбора тарифа" всегда отображается 10 результатов (проверять с разными данными в разные поля + GPRS)
Всегда 10 результатов
-Убедиться, что напротив каждого из 10 результатов есть кнопка-ссылка "Посмотреть подробно", которая ведет на страницу с описание Характеристик тарифа
Кнопки-ссылки присутствуют и работают

2 Задание 
У выпадающего списка и у первого элемента МТС не указаны ID. У МТС указан value = 321

3 Задание
select 
	cl.surname,
	cl.name,
	cl.patronimic,
	a.serial, 
	a.pass_number,
	co.phone_number,
	cr.credit_number
from clients cl
join 
(
	select
		d.client_id, 
		max(case when df.field_name = 'серия' then fv.field_value end) as serial,
		max(case when df.field_name = 'номер' then fv.field_value end) as pass_number
	from document d
	join doc_types dt on (dt.id = d.doctype_id)
	join doc_fields df on (df.doctype_id = dt.id)
	join field_values fv on (fv.field_id = df.id and fv.document_id = d.id)
	where dt.type_name = 'паспорт' and
		  df.field_name in ('серия', 'номер') and
		  d.client_id = 1
	group by d.client_id
) a on (a.client_id = cl.id)
join contacts co on (co.client_id = cl.id)
join credits cr on (cr.client_id = cl.id)
